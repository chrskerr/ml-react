(this["webpackJsonpml-react"]=this["webpackJsonpml-react"]||[]).push([[0],{194:function(e,t,a){e.exports=a(392)},199:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(61),c=a.n(i),l=(a(199),a(147)),o=a(148),s=a.n(o),u=a(91),m=a(149),d=a(164),p=a(28),b=a.n(p),f=a(150),E=a.n(f),v=a(23);function h(){var e=Object(l.a)(["\nsubscription SubcribeVersions {\n\tversions( limit: 1, order_by: { id: desc }) {\n\t\tid\n\t\tpredictions ( where: { prediction: { _is_null: false }, actual: { _is_null: false }}) {\n\t\t\tactual id time\n\t\t\tinstrument\n\t\t\tprediction\n\t\t}\n\t}\n}"]);return h=function(){return e},e}var g=E()(h());function y(){var e=Object(u.a)(g),t=e.data,a=e.loading,n=b.a.get(t,"versions[0].predictions");return r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Visualisation and Stats analysis of my ML model"),r.a.createElement("p",null,"All predictions pulled for my model, visualised and analysed.")),a&&r.a.createElement("div",{className:"loader"},r.a.createElement(m.a,{icon:d.a,spin:!0,size:"3x"})),!b.a.isEmpty(n)&&r.a.createElement("div",{className:"chart"},r.a.createElement(w,{data:n})))}var w=Object(n.memo)((function(e){var t=e.data,a=b.a.map(t,(function(e){return{actual:100*e.actual,prediction:100*e.prediction}})),n=b.a.reduce(a,(function(e,t){var a=Math.abs(b.a.get(t,"actual")),n=Math.abs(b.a.get(t,"prediction"));return a>n&&a>e?a>e?a:e:n>a&&n>e?n>e?n:e:void 0}),-1/0),i=[-1*n,n];return r.a.createElement(v.c,null,r.a.createElement(v.e,{margin:{top:20,right:20,bottom:20,left:20}},r.a.createElement(v.a,null),r.a.createElement(v.g,{type:"number",dataKey:"actual",name:"actual",domain:i,label:{value:"Actual Change (cents)",position:"bottom",offset:0}}),r.a.createElement(v.h,{type:"number",dataKey:"prediction",name:"prediction",domain:i,label:{value:"Predicted Change (cents)",position:"centerBottom",angle:-90,offset:5}}),r.a.createElement(v.f,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(v.d,{name:"A school",data:a,fill:"#f9bc60"}),r.a.createElement(v.b,{x:0})))}),b.a.isEqual);w.proptypes={data:s.a.array};var k=a(15),O=a(27),j=a(167),_=a(165),q=a(16),M=a(3),N=a(166);function x(){var e=new _.a({uri:"https://boiling-ridge-24261.herokuapp.com/v1/graphql"}),t=new j.a({uri:"wss://boiling-ridge-24261.herokuapp.com/v1/graphql",options:{reconnect:!0,timeout:3e4}}),a=Object(q.d)((function(e){var t=e.query,a=Object(M.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),t,e),n=new O.c({link:a,cache:new N.a});return r.a.createElement(k.a,{client:n},r.a.createElement(y,null))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.342cbe41.chunk.js.map